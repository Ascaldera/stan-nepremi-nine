<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!--\\\\\\\\\\\\\\\\\\\\\\\\\\  INVENTORY: TAG CONFIG  \\\\\\\\\\\\\\\\\\-->
    <record id="res_partner_category_inherited" model="ir.ui.view"> 
        <field name="name">Inherited Config Tags Form</field> 
        <field name="model">res.partner.category</field> 
        <field name="inherit_id" ref="base.view_partner_category_form"/> 
        <field name="arch" type="xml"> 
            <field name='name' position='after'>
                <field name="tag_type"/>
                <field name="color"/>
            </field> 
        </field>
    </record>

    <!--\\\\\\\\\\\\\\\\\\\\\\\\\\  INVENTORY: dodaja polj  \\\\\\\\\\\\\\\\\\-->
    <record id="res_product_form_inherited" model="ir.ui.view"> 
        <field name="name">Inherited Product Template</field> 
        <field name="model">product.template</field> 
        <field name="inherit_id" ref="product.product_template_form_view"/> 
        <field name="arch" type="xml"> 
    
            <!-- NEW CRM LINK BUTTON-->
            <xpath expr="//button[@name='toggle_active']" position="before">
                <button class="oe_stat_button o_res_partner_tip_opp" name="crm_link" type="object" icon="fa-star">
                    <field string="CRM vnos" name="opportunity_count" widget="statinfo"/>
                </button>
            </xpath>

            <!-- NEW PUBLISH BUTTON -->
            <xpath expr="//button[@name='toggle_active']" position="before">
                <button class="oe_stat_button" name="check_publish_info" type="object" icon="fa-globe" attrs="{'invisible': [('sale_ok','=',False)]}">
                    <field name="website_published" widget="website_button"/>
                    <field name="is_published" invisible="1"/>
                </button>
            </xpath>
            
            <!-- NOVA POLJA V GLAVNEM ODDELKU-->
            <xpath expr="//field[@name='sale_ok']" position="before">
                <group>
                    <field name="nepremicnina_vrsta_posredovanja"/>
                    <field name="nepremicnina_novogradnja" widget="boolean_toggle"/>
                    <field name="nepremicnina_za_investicijo" widget="boolean_toggle"/>
                </group>
            </xpath>
            
            <!-- CUSTOM TAB - Osnovno -->
            <xpath expr="/form/sheet/notebook/page/group[1]" position='after'>
                    <field name="currency_id" invisible="1"/>
                    <hr/>
                    <group>
                        <group string='Lokacija'>
                            <label for="street" string="Naslov"/>
                            <div class="o_address_format">

                                <field name="nepremicnina_lokacija" class="o_address_city" placeholder='Ulica' attrs ="{'required':1}"/>
                                <div>
                                    <field name="nepremicnina_obcina" class="o_address_city" placeholder='Občina' options="{&quot;no_open&quot;: True}" attrs ="{'required':1}"/>
                                    <field name="nepremicnina_zip" class="o_address_zip" placeholder='Poštna št.' attrs ="{'required':1}"/>
                                </div>
                                <field name="nepremicnina_drzava" class="o_address_country" placeholder='Država' options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}" attrs ="{'required':1}"/>

                            </div>
                            <field name="nepremicnina_regija" attrs ="{'required':1}"/>
                            <field name="nepremicnina_upravna_enota" attrs ="{'invisible':1, 'required':1}"/>
                            <field name="nepremicnina_upravne_enote_1" string="Upravna enota" attrs ="{'invisible':[('nepremicnina_regija','!=', 'dolenjska')]}"/>
                            <field name="nepremicnina_upravne_enote_2" string="Upravna enota" attrs ="{'invisible':[('nepremicnina_regija','!=', 'gorenjska')]}"/>
                            <field name="nepremicnina_upravne_enote_3" string="Upravna enota" attrs ="{'invisible':[('nepremicnina_regija','!=', 'juzna_primorska')]}"/>
                            <field name="nepremicnina_upravne_enote_4" string="Upravna enota" attrs ="{'invisible':[('nepremicnina_regija','!=', 'severna_primorska')]}"/>
                            <field name="nepremicnina_upravne_enote_5" string="Upravna enota" attrs ="{'invisible':[('nepremicnina_regija','!=', 'koroska')]}"/>
                            <field name="nepremicnina_upravne_enote_6" string="Upravna enota" attrs ="{'invisible':[('nepremicnina_regija','!=', 'lj_mesto')]}"/>
                            <field name="nepremicnina_upravne_enote_7" string="Upravna enota" attrs ="{'invisible':[('nepremicnina_regija','!=', 'lj_okolica')]}"/>
                            <field name="nepremicnina_upravne_enote_8" string="Upravna enota" attrs ="{'invisible':[('nepremicnina_regija','!=', 'notranjska')]}"/>
                            <field name="nepremicnina_upravne_enote_9" string="Upravna enota" attrs ="{'invisible':[('nepremicnina_regija','!=', 'podravska')]}"/>
                            <field name="nepremicnina_upravne_enote_10" string="Upravna enota" attrs ="{'invisible':[('nepremicnina_regija','!=', 'pomurska')]}"/>
                            <field name="nepremicnina_upravne_enote_11" string="Upravna enota" attrs ="{'invisible':[('nepremicnina_regija','!=', 'posavska')]}"/>
                            <field name="nepremicnina_upravne_enote_12" string="Upravna enota" attrs ="{'invisible':[('nepremicnina_regija','!=', 'savinjska')]}"/>
                            <field name="nepremicnina_upravne_enote_13" string="Upravna enota" attrs ="{'invisible':[('nepremicnina_regija','!=', 'zasavska')]}"/>

                            <field name="nepremicnina_lokacija_opombe" placeholder='Opombe'/>
                        </group>
                    </group>
                    <group>
                        <field name="nepremicnina_opis" type="html" attrs ="{'required':1}"/>
                    </group>
                    <group string='Osnovne informacije' col="4" colspan="2">
                        <field name="create_uid"/>      
                        <field name="contact" string = 'Lastnik nepremičnine'/>
                            
                        <label for='nepremicnina_povrsina'/>
                        <div class="o_row" name="povrsina">
                            <field name="nepremicnina_povrsina"  attrs ="{'required':1}"/>
                                <span>m²</span>
                        </div>
                        <label for='nepremicnina_zemljisce_pod'/>
                        <div class="o_row" name="povrsina_zemljisce_pod">
                            <field name="nepremicnina_zemljisce_pod"/>
                                <span>m²</span>
                        </div>
                        <label for='nepremicnina_velikost'/>
                        <div class="o_row" name="povrsina_skupna">
                            <field name="nepremicnina_velikost"/>
                                <span>m²</span>
                        </div>
                        <span colspan='4'/>

                        
                    </group>
                    <group>
                        <group>
                            <field name="nepremicnina_cena_min" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                            <field name="nepremicnina_cena_dolgorocno"  attrs ="{'required':1}"/>
                            <field name="nepremicnina_cena_dolgorocno_valuta" widget='radio' attrs ="{'required':1}"/>
                        </group>
                    </group>
                    <group>
                        <field name="nepremicnina_vrsta"  attrs ="{'required':1}"/>
                        <!-- DODANI POGOJI KDAJ SO VIDNI -->
                        
                        <field name="nepremicnina_tip" attrs ="{'invisible':1}"/>
                        <field name="nepremicnina_tip_1" string="Tip nepremičnine" attrs ="{'invisible':[('nepremicnina_vrsta','!=','stanovanje')],'required':[('nepremicnina_vrsta','==','stanovanje')]
}"/>
                        <field name="nepremicnina_tip_2" string="Tip nepremičnine" attrs ="{'invisible':[('nepremicnina_vrsta','!=','hisa')],'required':[('nepremicnina_vrsta','==','hisa')]}"/>
                        <field name="nepremicnina_tip_3" string="Tip nepremičnine" attrs ="{'invisible':[('nepremicnina_vrsta','!=','poslovni')],'required':[('nepremicnina_vrsta','==','poslovni')]}"/>
                        
                        <field name="nepremicnina_vrsta_drugo" attrs ="{'invisible':[('nepremicnina_vrsta','!=', 'drugo')]}"/>
                        <field name="nepremicnina_tip_drugo" attrs ="{'invisible':[('nepremicnina_tip','!=', 'drugo')]}"/>
                        
                    </group>
                    <group>
                        
                        <!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
                        
                        <group>
                            <field name="nepremicnina_etaza" attrs ="{'invisible':[('nepremicnina_vrsta','!=', 'hisa')]}"/>
                            <field name="nepremicnina_nadstropje" attrs ="{'invisible':[('nepremicnina_vrsta','!=', 'stanovanje')]}"/>
                            <field name="nepremicnina_st_nadstropij" attrs ="{'invisible':[('nepremicnina_vrsta','!=', 'stanovanje')]}"/>
                        </group>
                        
                        <!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
                        
                    </group> 
                    <!-- DODANI TAGI ZA KOGA PRIMERNO -->
                    <group>
                        <field name="nepremicnina_se_prodaja"/>
                        <field name="nepremicnina_moznost_vselitve"/>
                        <field name="nepremicnina_pogoji_prodaje"/>
                        <field name="nepremicnina_oznake_nepremicnin" widget="many2many_tags" options="{'color_field': 'color', 'no_create_edit': True}"/>
                    </group>
            </xpath>
            
            <!-- CUSTOM TAB - Slike -->
            <xpath expr="//page[@name='general_information']" position='after'>
                <page name="slike" string="Slike">
                    <group colspan="4" rowspan="1" string="Dodatne slike">
                        <div class="o_image_box">
                            <div class="o_attachment_wrap">
                                <field name="nepremicnina_slika_1" widget="image" nolabel="1" height="200"/>
                            </div>
                        </div>
                        <div class="o_image_box">
                            <div class="o_attachment_wrap">
                                <field name="nepremicnina_slika_2" widget="image" nolabel="1" height="200" attrs ="{'invisible':[('nepremicnina_slika_1','==', False)]}"/>
                            </div>
                        </div>
                        <div class="o_image_box">
                            <div class="o_attachment_wrap">
                                <field name="nepremicnina_slika_3" widget="image" nolabel="1" height="200" attrs ="{'invisible':[('nepremicnina_slika_2','==', False)]}"/>
                            </div>
                        </div>
                        <div class="o_image_box">
                            <div class="o_attachment_wrap">
                                <field name="nepremicnina_slika_4" widget="image" nolabel="1" height="200" attrs ="{'invisible':[('nepremicnina_slika_3','==', False)]}"/>
                            </div>
                        </div>
                        <div class="o_image_box">
                            <div class="o_attachment_wrap">
                                <field name="nepremicnina_slika_5" widget="image" nolabel="1" height="200" attrs ="{'invisible':[('nepremicnina_slika_4','==', False)]}"/>
                            </div>
                        </div>
                        <div class="o_image_box">
                            <div class="o_attachment_wrap">
                                <field name="nepremicnina_slika_6" widget="image" nolabel="1" height="200" attrs ="{'invisible':[('nepremicnina_slika_5','==', False)]}"/>
                            </div>
                        </div>
                        <div class="o_image_box">
                            <div class="o_attachment_wrap">
                                <field name="nepremicnina_slika_7" widget="image" nolabel="1" height="200" attrs ="{'invisible':[('nepremicnina_slika_6','==', False)]}"/>
                            </div>
                        </div>
                        <div class="o_image_box">
                            <div class="o_attachment_wrap">
                                <field name="nepremicnina_slika_8" widget="image" nolabel="1" height="200" attrs ="{'invisible':[('nepremicnina_slika_7','==', False)]}"/>
                            </div>
                        </div>
                    </group>
                </page>
            </xpath>
            
            <!-- CUSTOM TAB - Opis -->
            <xpath expr="//page[@name='general_information']" position='after'>
                <page name='opis' string="Nepremičnina / Opis">
                    <field name="custom_currency_id_2" invisible="1"/>
                    <group string='Opis nepremičnine' col="4" colspan="2">
                        <field name="nepremicnina_leto_izgradnje"/>
                        <field name="nepremicnina_adaptacija" widget="boolean_toggle"/>
                        <field name="nepremicnina_streha"/>
                        <field name="nepremicnina_leto_adaptacija" attrs ="{'invisible':[('nepremicnina_adaptacija','!=', True)],'required':[('nepremicnina_adaptacija','=',True)]}"/>
                        <field name="nepremicnina_izolacija"/>
                        <field name="nepremicnina_adaptacija_info" widget="many2many_tags" options="{'color_field': 'color', 'no_create_edit': True}" attrs ="{'invisible':[('nepremicnina_adaptacija','!=', True)]}"/>
                        <field name="nepremicnina_okna"/>
                        <field name="nepremicnina_streha_obnova" attrs ="{'invisible':[('nepremicnina_adaptacija','!=', True)]}"/>
                        <field name="nepremicnina_materiali"/>
                        <field name="nepremicnina_izolacija_obnova" attrs ="{'invisible':[('nepremicnina_adaptacija','!=', True)]}"/>
                        <field name="nepremicnina_vrsta_ogrevanja"/>
                        <field name="nepremicnina_okna_obnova" attrs ="{'invisible':[('nepremicnina_adaptacija','!=', True)]}"/>
                        <field name="nepremicnina_upravnik"/>
                        <span colspan='4'/>
                        <field name="nepremicnina_stroski" widget='monetary' options="{'currency_field': 'custom_currency_id_2'}"/> 
                        <field name="nepremicnina_energetski_razred"/>
                        <field name="nepremicnina_stroski_sklada" widget='monetary' options="{'currency_field': 'custom_currency_id_2'}"/>
                    </group>
                    <group string='Dodatki' col="8" colspan="2">
                        <field name="nepremicnina_balkon" colspan='4' widget="boolean_toggle"/>
                        <field name="nepremicnina_klet" colspan='4' widget="boolean_toggle"/>
                        
                        <label for='nepremicnina_balkon_velikost' attrs ="{'invisible':[('nepremicnina_balkon','=', False)]}"/>
                        <div class="o_row" name="balkon_velikost" colspan='3' attrs ="{'invisible':[('nepremicnina_balkon','=', False)]}">
                            <field name="nepremicnina_balkon_velikost"/>
                                <span>m²</span>
                        </div>

                        <label for='nepremicnina_klet_velikost' attrs ="{'invisible':[('nepremicnina_klet','=', False)]}"/>
                        <div class="o_row" name="klet_velikost" colspan='3' attrs ="{'invisible':[('nepremicnina_klet','=', False)]}">
                            <field name="nepremicnina_klet_velikost"/>
                                <span>m²</span>
                        </div>
                        
                        <field name="nepremicnina_terasa" colspan='4' widget="boolean_toggle"/>
                        <!--<field name="nepremicnina_sanitarije" colspan='4' widget="boolean_toggle"/>-->
                        <field name="nepremicnina_vrt" colspan='4' widget="boolean_toggle"/>
                        <label for='nepremicnina_terasa_velikost' attrs ="{'invisible':[('nepremicnina_terasa','=', False)]}"/>
                        <div class="o_row" name="terasa_velikost" colspan='3' attrs ="{'invisible':[('nepremicnina_terasa','=', False)]}">
                            <field name="nepremicnina_terasa_velikost"/>
                                <span>m²</span>
                        </div>
                        <!--<field name="nepremicnina_sanitarije_info" attrs ="{'invisible':[('nepremicnina_sanitarije','=', False)]}" colspan='4'/>-->
                        <field name="nepremicnina_vrt_info" attrs ="{'invisible':[('nepremicnina_vrt','=', False)]}" colspan='4'/>
                        
                        <field name="nepremicnina_sanitarije" colspan='4' widget="boolean_toggle"/>
                        <span colspan='4'/>
                        <field name="nepremicnina_sanitarije_info" attrs ="{'invisible':[('nepremicnina_sanitarije','=', False)]}" colspan='4'/>
                        <span colspan='4'/>
                        
                        <field name="nepremicnina_dnevna" colspan='4'/>
                        <field name="nepremicnina_pogled" colspan='4'/>
                        <field name="nepremicnina_spalnice" colspan='4'/>
                        <field name="nepremicnina_razgled" colspan='4'/>
                        <field name="nepremicnina_lega" colspan='4'/>
                        <span colspan='4'/>
                        
                        <field name="nepremicnina_atrij"/>
                        <field name="nepremicnina_opremljeno"/>
                        <field name="nepremicnina_student"/>
                        <field name="nepremicnina_alarm"/>
                        
                        <field name="nepremicnina_bazen"/>
                        <field name="nepremicnina_kamin"/>
                        <field name="nepremicnina_invalidi"/>
                        <field name="nepremicnina_varovanje"/>
       
                        <field name="nepremicnina_dvigalo"/>
                        <field name="nepremicnina_shramba"/>
                        <field name="nepremicnina_ljubljencki"/>
                        <field name="nepremicnina_video_nadzor"/>
                        
                        <field name="nepremicnina_penthouse"/>
                        <field name="nepremicnina_klima"/>
                        <field name="nepremicnina_domofon"/>
                        <field name="nepremicnina_360_id"/>       
                    </group>
                    <group string='Parkiranje'>
                        <group>
                            <field name="nepremicnina_parkiranje" widget="boolean_toggle"/>
                            <field name="nepremicnina_parkiranje_vrsta" attrs ="{'invisible':[('nepremicnina_parkiranje','=', False)]}"/>
                            <field name="nepremicnina_parkiranje_stevilo" attrs ="{'invisible':[('nepremicnina_parkiranje','=', False)]}"/>
                        </group>
                    </group>
                </page>
            </xpath>
            
            <!-- CUSTOM TAB - Infrastruktura -->
            <xpath expr="//page[@name='opis']" position='after'>
                <page name='infrastruktura' string="Nepremičnina / Infrastruktura">
                    <field name="custom_currency_id_2" invisible="1"/>
                    <group string='Infrastruktura' col="4" colspan="2">
                        <field name="infrastruktura_vrtec" widget="boolean_toggle"/>
                        <field name="infrastruktura_sola" widget="boolean_toggle"/>
                        <field name="infrastruktura_vrtec_info" attrs ="{'invisible':[('infrastruktura_vrtec','=', False)]}"/>
                        <field name="infrastruktura_sola_info" attrs ="{'invisible':[('infrastruktura_sola','=', False)]}"/>
                        
                        <field name="infrastruktura_fakultete" widget="boolean_toggle"/>
                        <field name="infrastruktura_posta" widget="boolean_toggle"/>
                        <field name="infrastruktura_fakultete_info" attrs ="{'invisible':[('infrastruktura_fakultete','=', False)]}"/>
                        <field name="infrastruktura_posta_info" attrs ="{'invisible':[('infrastruktura_posta','=', False)]}"/>
                        
                        <field name="infrastruktura_trgovina" widget="boolean_toggle"/>
                        <field name="infrastruktura_banka" widget="boolean_toggle"/>
                        <field name="infrastruktura_trgovina_info" attrs ="{'invisible':[('infrastruktura_trgovina','=', False)]}"/>  
                        <field name="infrastruktura_banka_info" attrs ="{'invisible':[('infrastruktura_banka','=', False)]}"/>
                        
                        <field name="infrastruktura_avtocesta" widget="boolean_toggle"/>
                        <field name="infrastruktura_avtobus" widget="boolean_toggle"/>
                        <field name="infrastruktura_avtocesta_info" attrs ="{'invisible':[('infrastruktura_avtocesta','=', False)]}"/>
                        <field name="infrastruktura_avtobus_info" attrs ="{'invisible':[('infrastruktura_avtobus','=', False)]}"/>
                        
                        <field name="infrastruktura_vlak" widget="boolean_toggle"/>
                        <field name="infrastruktura_igrisce" widget="boolean_toggle"/>
                        <field name="infrastruktura_vlak_info" attrs ="{'invisible':[('infrastruktura_vlak','=', False)]}"/>
                        <field name="infrastruktura_igrisce_info" attrs ="{'invisible':[('infrastruktura_igrisce','=', False)]}"/>
                        
                        <field name="infrastruktura_park" widget="boolean_toggle"/>
                        <field name="infrastruktura_zd" widget="boolean_toggle"/>
                        <field name="infrastruktura_park_info" attrs ="{'invisible':[('infrastruktura_park','=', False)]}"/>
                        <field name="infrastruktura_zd_info" attrs ="{'invisible':[('infrastruktura_zd','=', False)]}"/> 
                    </group>
                    <group string='Komunikacijski priključki' col="4" colspan="2">
                        <field name="komunikacija_telefon" widget="boolean_toggle"/>
                        <field name="komunikacija_kabel" widget="boolean_toggle"/>
                        <field name="komunikacija_telefon_info" attrs ="{'invisible':[('komunikacija_telefon','=', False)]}"/>
                        <field name="komunikacija_kabel_info" attrs ="{'invisible':[('komunikacija_kabel','=', False)]}"/>
                        
                        <field name="komunikacija_optika" widget="boolean_toggle"/>
                        <field name="komunikacija_internet" widget="boolean_toggle"/>
                        <field name="komunikacija_optika_info" attrs ="{'invisible':[('komunikacija_optika','=', False)]}"/>
                        <field name="komunikacija_internet_info" attrs ="{'invisible':[('komunikacija_internet','=', False)]}"/>
                    </group>
                </page>
            </xpath>
            
            <!-- CUSTOM TAB - Lastništvo -->
            <xpath expr="//page[@name='infrastruktura']" position='after'>
                <page name='lastnistvo' string="Nepremičnina / Lastništvo">
                    <field name="currency_id" invisible="1"/>
                    <group string='Lastništvo' col="4" colspan="2">
                        <field name="lastnistvo_podlaga"/>  
                        <field name="lastnistvo_dan"/>  
                        <field name="lastnistvo_plombe"/>  
                        <field name="lastnistvo_hipoteke"/>
                        <field name="lastnistvo_solastnina"/>
                        <field name="lastnistvo_prepoved"/>
                        <field name="lastnistvo_predkupna_pravica"/>
                        <field name="lastnistvo_parcelne_st"/>
                        <field name="lastnistvo_omejitve"/>
                    </group>
                    <group string='Predkupne pravice' col="4" colspan="2">
                        <field name="lastnistvo_potrdilo"/>  
                        <field name="lastnistvo_pravica"/>  
                        <field name="lastnistvo_soglasje"/>  
                        <field name="lastnistvo_varstvo"/>
                        <field name="lastnistvo_prikljucek"/>
                        <field name="lastnistvo_vrednost"/>
                    </group>
                </page>
            </xpath>
        </field>
    </record>
    
    <!-- TAG: Inventory Meni Filter -->
    <record id="action_open_inventory_tag" model="ir.actions.act_window">
        <field name="name">oznake</field>
        <field name="res_model">res.partner.category</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="domain"></field>
    </record>
    
    <!-- TAG: Contact Meni Filter -->
    <record id="base.action_partner_category_form" model="ir.actions.act_window">
        <field name="domain"></field>
    </record>
    
    
    <!-- TAG: Tree Extend -->
    <record model="ir.ui.view" id="view_partner_category_list_extended">
       <field name="name">res.partner.category.tree.extended</field>
       <field name="model">res.partner.category</field>
       <field name="type">tree</field>
       <field name="inherit_id" ref="base.view_partner_category_list"/>
       <field name="arch" type="xml">
            <xpath expr="/tree/field[@name='display_name']" position="after">
                <field name="tag_type" />
            </xpath>
       </field>
   </record>

    <menuitem id="menu_contact_tags" name='Oznake' parent="stock.menu_stock_root" action='action_open_inventory_tag' sequence="3"/>
</odoo>